#### 进程是什么？为什么要有进程，有fork，有exec？

简单来说，进程fork就是为了让多个程序一起运行起来。提高资源的利用率和系统的吞吐量。

也可以让一个程序自己变成多个任务执行，并发执行任务，提高效率。

#### 线程又是什么，为什么有了进程还要有线程？

引入线程概念，是为了减少程序在并发执行时付出的时空开销，使操作系统具有更好的并发性。（同一进程下的线程共享内存空间）

![线程](/home/k/小组相关/线程.png)

### 进程线程优劣比较：

#### 进程：

* 优点：每个进程相互之间独立，地址空间大，子程序崩溃没关系。

* 缺点： 进程间内存无法共享，通讯较麻烦，不适合大量通讯。

  ​	    在创建和撤销进程时，由于系统都要为之分配和回收资源，导致系统的开销明显大于创建或撤销线程的开销。

  ​	    逻辑控制复杂，需要和主程序交互。

#### 线程：

* 优点：线程间方便的通信机制，同一进程下的线程之间共享数据空间，快捷方便。

  ​	    操作系统调度切换多个线程要比切换调度进程在速度上快得多。

* 缺点：线程可以被认为是“轻量级”的进程，相比较于进程，线程之间有比较麻烦的同步和加锁控制。

  ​	   线程能够提高的总性能有限，而且线程多了以后，线程本身的调度和锁机制本身就很耗费资源。

#### 线程池&池化思想

为什么要使用线程池？

线程池中预先创建了一些工作线程， 他们不断的从工作队列中取出任务， 然后执行， 当执行完之后， 会继续执行工作队列中的下一个任务， 减少了创建和销毁线程的次数， 每个线程都可以一直被重用， 避免了创建和销毁的开销。 

另外， 可以根据系统的实际承载能力， 方便的调节线程池中线程的数目， 防止因为消耗过量的系统资
源而导致系统崩溃的问题。活动的线程也消耗系统资源， 如果线程的创建数量没有限制， 当大量的客户连接服务器的时候， 就会创建出大量的工作线程， 他们会消耗大量的内存空间， 导致系统的内存空间不足， 影响服务器的使用。

所以是否使用线程池,线程池初始开多大,都是我们在具体任务需求还要细酌.更有甚者将线程池的线程数设置为动态的,弹性的,当任务数远多余进程数我们给线程池添加线程,当任务数过小,我们适当的释放一些线程.